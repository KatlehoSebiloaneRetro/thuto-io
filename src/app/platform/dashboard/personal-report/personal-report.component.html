<div style="margin: 25px;">
    <div>
        <img src="../../../../assets/back_arrow.png" alt="" routerLink="/program">
        <h1 style="margin: 2rem;font-family: 'montserrat';font-weight: 600; font-size: 18px; margin-bottom: 24px;">Your Personal Thuto Report:</h1>
    </div>
    <tui-loader
        [overlay]="true"
        [showLoader]="loader"
    >

    </tui-loader>
    <div *ngIf="!loader"
    >
    <!-- <div style="margin: 0.5rem; padding-bottom: 2rem;">
        <h2 style="font-family: 'montserrat';font-weight: 600;">Your Summary:</h2>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Best Subject:</div> <div style="flex-basis: 20%;">{{bestSubject.subject}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Worst Subject:</div> <div style="flex-basis: 20%;">{{WorstSubject.subject}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Lowest Spend:</div> <div style="flex-basis: 20%;">{{largestSpend.amount}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest Spend:</div> <div style="flex-basis: 20%;">{{smallestSpend.amount}}</div> </div>
        </div>
    </div> -->
    <div style="margin: 0.5rem;">
        <h2 style="font-family: 'montserrat';font-weight: 600;">Your Subject Averages:</h2>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px"> <div style="flex-basis: 95%;">{{'Mathematics'}}:</div> <div style="flex-basis: 20%;">{{Ave_Economic_Management_Sciences.toFixed(2)}}</div> </div>
        </div>
    </div>
    <div style="margin: 0.5rem;">
        <h2 style="font-family: 'montserrat';font-weight: 600;">Your Points:</h2>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Points You were given:</div> <div style="flex-basis: 20%;">{{totalDeposited.toFixed(2)}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Points you earned:</div> <div style="flex-basis: 20%;">{{TCCount}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Percentage:</div> <div style="flex-basis: 20%;">{{((TCCount/totalDeposited)*100).toFixed(2)}}</div> </div>
        </div>
    </div>
    <div style="margin: 0.5rem; padding-bottom: 2rem;">
        <h2 style="font-family: 'montserrat';font-weight: 600;">Your Spending:</h2>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Total balance:</div> <div style="flex-basis: 20%;">{{balance.toFixed(2)}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Total Spend:</div> <div style="flex-basis: 20%;">{{spent.toFixed(2)}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Total Saved:</div> <div style="flex-basis: 20%;">{{saved.toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Total Spend(%):</div> <div style="flex-basis: 20%;">{{((spent/TCCount)*-100).toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Total Saved(%):</div> <div style="flex-basis: 20%;">{{((saved/TCCount)*100).toFixed(2)}}</div> </div>
        </div>
    </div>
    <div style="margin: 0.5rem; padding-bottom: 2rem;">

        

        
        
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Improvement {{'Mathematics'}}:</div> <div style="flex-basis: 20%;">{{calculateImprovementPercentage(Economic_Management_Sciences)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest {{'Mathematics'}}:</div> <div style="flex-basis: 20%;">{{getHighestMark(Economic_Management_Sciences)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Worst  Assessment:</div> <div style="flex-basis: 20%;">{{getAssessmentWithLowestMark(Economic_Management_Sciences).title}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Lowest {{'Mathematics'}}:</div> <div style="flex-basis: 20%;">{{getLowestMark(Economic_Management_Sciences)?.toFixed(2)}}%</div> </div>
        </div>
        
    </div>
</div>

    
</div>
