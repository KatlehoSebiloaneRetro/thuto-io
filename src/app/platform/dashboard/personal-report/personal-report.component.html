<div>
    <!-- <div>
        <img src="../../../../assets/back_arrow.png" alt="" routerLink="/details">
        <h1 style="margin: 2rem;font-family: 'montserrat';font-weight: 600; font-size: 18px; margin-bottom: 24px;">Your Personal Thuto Report:</h1>
    </div> -->
    <tui-loader
        [overlay]="true"
        [showLoader]="loader"
    >

    </tui-loader>
    <div *ngIf="!loader"
    >
    <div style="margin: 0.5rem; padding-bottom: 2rem;">
        <!-- <h2 style="font-family: 'montserrat';font-weight: 600;">Your Summary:</h2> -->
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Best Subject:</div> <div style="flex-basis: 20%;">{{bestSubject.subject}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Worst Subject:</div> <div style="flex-basis: 20%;">{{WorstSubject.subject}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Lowest Spend:</div> <div style="flex-basis: 20%;">{{largestSpend.amount}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest Spend:</div> <div style="flex-basis: 20%;">{{smallestSpend.amount}}</div> </div>
        </div>
    </div>
    <div style="margin: 0.5rem;">
        <h2 style="font-family: 'montserrat';font-weight: 600;">Your Subject Averages:</h2>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">{{'Mathematics'}}:</div> <div style="flex-basis: 20%;">{{Ave_Mathematics.toFixed(2)}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px"> <div style="flex-basis: 95%;">{{'Life Orientation'}}:</div> <div style="flex-basis: 20%;">{{Ave_Life_Orientation.toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px"> <div style="flex-basis: 95%;">{{'Natural Science and Technology'}}:</div> <div style="flex-basis: 20%;">{{Ave_Natural_Science_and_Technology.toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px"> <div style="flex-basis: 95%;">{{'Economic Management Sciences'}}:</div> <div style="flex-basis: 20%;">{{Ave_Economic_Management_Sciences.toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px"> <div style="flex-basis: 95%;">{{'Social Science'}}:</div> <div style="flex-basis: 20%;">{{Ave_Social_Science.toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px"> <div style="flex-basis: 95%;">{{'English HL'}}:</div> <div style="flex-basis: 20%;">{{Ave_English_HL.toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">{{'Afrikaans FAL'}}:</div> <div style="flex-basis: 20%;">{{Ave_Afrikaans_FAL.toFixed(2)}}</div> </div>
        </div>
    </div>
    <div style="margin: 0.5rem;">
        <h2 style="font-family: 'montserrat';font-weight: 600;">Your Points:</h2>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Points You were given:</div> <div style="flex-basis: 20%;">{{totalDeposited.toFixed(2)}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Points you earned:</div> <div style="flex-basis: 20%;">{{TCCount}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Percentage:</div> <div style="flex-basis: 20%;">{{((TCCount/totalDeposited)*100).toFixed(2)}}</div> </div>
        </div>
    </div>
    <div style="margin: 0.5rem; padding-bottom: 2rem;">
        <h2 style="font-family: 'montserrat';font-weight: 600;">Your Spending:</h2>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Total balance:</div> <div style="flex-basis: 20%;">{{balance.toFixed(2)}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Total Spend:</div> <div style="flex-basis: 20%;">{{spent.toFixed(2)}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Total Saved:</div> <div style="flex-basis: 20%;">{{saved.toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Total Spend(%):</div> <div style="flex-basis: 20%;">{{((spent/TCCount)*-100).toFixed(2)}}</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Total Saved(%):</div> <div style="flex-basis: 20%;">{{((saved/TCCount)*100).toFixed(2)}}</div> </div>
        </div>
    </div>
    <div style="margin: 0.5rem; padding-bottom: 2rem;">
        <h2 style="font-family: 'montserrat';font-weight: 600;">Your Improvement Breakdown:</h2>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Improvement {{'Mathematics'}}</div> <div style="flex-basis: 20%;">{{calculateImprovementPercentage(Mathematics)?.toFixed(2)}}%</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Best {{'Mathematics'}} Mark:</div> <div style="flex-basis: 20%;">{{getHighestMark(Mathematics)?.toFixed(2)}}%</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Worst {{'Mathematics'}} Assessment:</div> <div style="flex-basis: 20%;">{{getAssessmentWithLowestMark(Mathematics).title}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Worst {{'Mathematics'}} Mark:</div> <div style="flex-basis: 20%;">{{getLowestMark(Mathematics)?.toFixed(2)}}%</div></div>
        </div>
        <div style="margin-top:24px">
           
            <div style="display: flex; border:1px #ddd solid; padding:10px;;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Improvement {{'Life Orientation'}}:</div> <div style="flex-basis: 20%;">{{calculateImprovementPercentage(Life_Orientation)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest {{'Life Orientation'}}:</div> <div style="flex-basis: 20%;">{{getHighestMark(Life_Orientation)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px"> <div style="flex-basis: 95%;">Worst {{'Life Orientation'}} Assessment:</div> <div style="flex-basis: 20%;">{{getAssessmentWithLowestMark(Life_Orientation).title}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Lowest {{'Life Orientation'}}:</div> <div style="flex-basis: 20%;">{{getLowestMark(Life_Orientation)?.toFixed(2)}}%</div> </div>
        </div>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Improvement {{'Natural Science and Technology'}}:</div> <div style="flex-basis: 20%;">{{calculateImprovementPercentage(Natural_Science_and_Technology)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest {{'Natural Science and Technology'}}:</div> <div style="flex-basis: 20%;">{{getHighestMark(Natural_Science_and_Technology)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px"> <div style="flex-basis: 95%;">Worst Assessment:</div> <div style="flex-basis: 20%;">{{getAssessmentWithLowestMark(Natural_Science_and_Technology).title}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Lowest {{'Natural Science and Technology'}}:</div> <div style="flex-basis: 20%;">{{getLowestMark(Natural_Science_and_Technology)?.toFixed(2)}}%</div> </div>
        </div>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Improvement {{'Economic Management Sciences'}}:</div> <div style="flex-basis: 20%;">{{calculateImprovementPercentage(Economic_Management_Sciences)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest {{'Economic Management Sciences'}}:</div> <div style="flex-basis: 20%;">{{getHighestMark(Economic_Management_Sciences)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Worst  Assessment:</div> <div style="flex-basis: 20%;">{{getAssessmentWithLowestMark(Economic_Management_Sciences).title}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Lowest {{'Economic Management Sciences'}}:</div> <div style="flex-basis: 20%;">{{getLowestMark(Economic_Management_Sciences)?.toFixed(2)}}%</div> </div>
        </div>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Improvement {{'Social Science'}}:</div> <div style="flex-basis: 20%;">{{calculateImprovementPercentage(Social_Science)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest {{'Social Science'}}:</div> <div style="flex-basis: 20%;">{{getHighestMark(Social_Science)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Worst Assessment:</div> <div style="flex-basis: 20%;">{{getAssessmentWithLowestMark(Social_Science).title}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Lowest {{'Social Science'}}:</div> <div style="flex-basis: 20%;">{{getLowestMark(Social_Science)?.toFixed(2)}}%</div> </div>
        </div>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;;border-radius: 15px 15px 0px 0px;"> <div style="flex-basis: 95%;">Improvement {{'English HL'}}:</div> <div style="flex-basis: 20%;">{{calculateImprovementPercentage(English_HL)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest {{'English HL'}}:</div> <div style="flex-basis: 20%;">{{getHighestMark(English_HL)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Worst Assessment:</div> <div style="flex-basis: 20%;">{{getAssessmentWithLowestMark(English_HL).title}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Lowest {{'English HL'}}:</div> <div style="flex-basis: 20%;">{{getLowestMark(English_HL)?.toFixed(2)}}%</div> </div>
        </div>
        <div style="margin-top:24px">
            <div style="display: flex; border:1px #ddd solid; padding:10px;;border-radius: 15px 15px 0px 0px;;"> <div style="flex-basis: 95%;">Improvement {{'Afrikaans FAL'}}:</div> <div style="flex-basis: 20%;">{{calculateImprovementPercentage(Afrikaans_FAL)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Highest {{'Afrikaans FAL'}}:</div> <div style="flex-basis: 20%;">{{getHighestMark(Afrikaans_FAL)?.toFixed(2)}}%</div> </div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px;"> <div style="flex-basis: 95%;">Worst  Assessment:</div> <div style="flex-basis: 20%;">{{getAssessmentWithLowestMark(Afrikaans_FAL).title}}</div></div>
            <div style="display: flex; border:1px #ddd solid; padding:10px;border-radius: 0px 0px 15px 15px;"> <div style="flex-basis: 95%;">Lowest {{'Afrikaans FAL'}}:</div> <div style="flex-basis: 20%;">{{getLowestMark(Afrikaans_FAL)?.toFixed(2)}}%</div> </div>
        </div>
    </div>
</div>

    
</div>
